import{r as P,U as b,av as x,o as a,h as l,b as p,F as f,k as C,N as v,m as o,t as g,c as $,z as N,as as u,at as h}from"./index.7c3ce38a.js";import{b as V}from"./BaseButton.ad880968.js";const I={key:0},T=["onClick"],B={key:1},q={style:{"margin-bottom":"10px"}},z={key:0,style:{"margin-bottom":"10px"}},F=["onClick"],L={key:0,class:"fa fa-folder folder-treeView"},M={key:1,class:"fa-solid fa-folder-minus"},A=["onMouseover"],D={__name:"TreeItem",props:{nodes:{type:Array,required:!0},selectedNodeId:Number,treeView:{type:Boolean,required:!0,default:!0}},emits:["nodeSelected","itemSelected"],setup(s,{emit:n}){const r=s,e=P(0);b({nodes:r.nodes});const _=(c,y)=>{e.value=0;const i=r.nodes.find(d=>d._id===c),t=r.nodes;r.nodes=t.map(d=>(d.active=d._id===c?"active":"selected",d)),i&&(i.collapsed=!i.collapsed),n("nodeSelected",i),e.value=c},w=c=>{e.value=0,n("nodeSelected",c),e.value=c._id},k=c=>{n("itemSelected",c)},S=c=>c.children.some(i=>i.visible===1);return(c,y)=>{const i=x("TreeItem",!0);return a(),l(f,null,[s.treeView?(a(),l("div",I,[p("ul",null,[(a(!0),l(f,null,C(s.nodes,t=>(a(),l("li",{key:t._id,class:"pli"},[p("span",{class:v(e.value===t._id?"selected":""),onClick:d=>_(t._id)},[t.children.length?(a(),l("i",{key:0,class:v(t.collapsed?"fa fa-minus":"fa fa-plus")},null,2)):o("",!0),p("span",{class:v(t.children.length>0?"ml2":"ml1")},g(t.indice)+" - "+g(t.nombre),3)],10,T),t.children.length>0&&t.collapsed?(a(),$(i,{key:0,nodes:t.children,onNodeSelected:w},null,8,["nodes"])):o("",!0)]))),128))])])):o("",!0),s.treeView?o("",!0):(a(),l("div",B,[p("ul",q,[(a(!0),l(f,null,C(s.nodes,t=>(a(),l(f,{key:t._id},[t.visible===1?(a(),l("li",z,[p("span",{class:v(e.value===t._id?"selected":""),onClick:d=>k(t)},[t.children.length>0?(a(),l("i",L)):o("",!0),t.children.length===0?(a(),l("i",M)):o("",!0),N(" "+g(t.indice)+" - "+g(t.nombre)+" ",1),t.children.length>0&&S(t)?(a(),l("i",{key:2,class:"fa fa-solid fa-plus plus-icon",onMouseover:d=>_(t._id)},null,40,A)):o("",!0)],10,F),t.children&&t.collapsed?(a(),$(i,{key:0,nodes:t.children,treeView:!1,onItemSelected:k},null,8,["nodes"])):o("",!0)])):o("",!0)],64))),128))])]))],64)}}},U=V(D,[["__scopeId","data-v-2ce23837"]]),m="api/enfoques/",W={index(){return new Promise((s,n)=>{u.get(m,{},{headers:h()}).then(r=>s(r.data)).catch(r=>n(r))})},getChildren(s){return new Promise((n,r)=>{u.get(`${m}/getChildren/${s}`,{headers:h()}).then(e=>{n(e)}).catch(e=>r(e))})},getChildrenWithPaginate(s,n){return new Promise((r,e)=>{u.get(`${m}getChildrenPaginate/${s}/`,{params:n},{headers:h()}).then(_=>{r(_.data)}).catch(_=>e(_))})},create(s){return new Promise((n,r)=>{u.post(m,s,{headers:h()}).then(e=>n(e)).catch(e=>r(e))})},read(s){return new Promise((n,r)=>{u.get(`${m}/${s}`,{headers:h()}).then(e=>{n(e)}).catch(e=>r(e))})},update(s){return new Promise((n,r)=>{u.put(`${m}/${s._id}`,s,{headers:h()}).then(e=>n(e.data)).catch(e=>r(e))})},delete(s){return new Promise((n,r)=>{u.delete(`${m}${s}`,{headers:h()}).then(e=>n(e.data)).catch(e=>r(e))})}};export{U as T,W as e};
