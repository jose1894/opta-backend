import{aq as ge,ar as pe,q as fs,af as Qe,ag as ks,a9 as $s,y as f,R as Ye,x as U,I as P,o as I,r as B,a as o,w as i,g as ie,z as bs,d as Q,j as e,B as g,C as k,u as c,av as G,E as n,aw as K,J as de,K as Pe,P as js,ai as Es,Z as We,aO as Ds,aP as Ns,aQ as xs,A as Ae,c as $e,S as Vs,al as ys,am as Cs,M as As,aR as Ms,O as qs,aS as Ts,as as Bs,at as Ls,_ as Js,i as Hs,an as zs,aL as Ws}from"./index.94f69dfc.js";import{r as Ps,u as Gs}from"./index.esm.8eaf8d5b.js";import{_ as D}from"./FormCheckRadioGroup.7dc4317c.js";import{e as Is}from"./enfoques.service.44235d89.js";import{C as Ss}from"./CardBoxComponentEmpty.c052dd4c.js";import"./FormCheckRadio.7aa78bc3.js";const xe="api/riesgos",Ge={index(h){return new Promise((b,d)=>{ge.get(xe,{params:h},{headers:pe()}).then(u=>b(u.data)).catch(u=>d(u))})},create(h){return new Promise((b,d)=>{ge.post(xe,h,{headers:pe()}).then(u=>b(u)).catch(u=>d(u))})},read(h){return new Promise((b,d)=>{ge.get(`${xe}/${h.id}`,{headers:pe()}).then(u=>{b(u)}).catch(u=>d(u))})},update(h){return console.log(h),new Promise((b,d)=>{ge.put(`${xe}/${h._id}`,h,{headers:pe()}).then(u=>b(u.data)).catch(u=>d(u))})},restore(h){return new Promise((b,d)=>{ge.delete(`${xe}/restore/${h}`,{headers:pe()}).then(u=>b(u.data)).catch(u=>d(u))})},delete(h){return new Promise((b,d)=>{ge.delete(`${xe}${h}`,{headers:pe()}).then(u=>b(u.data)).catch(u=>d(u))})}};const Ze=h=>(ys("data-v-d294fee3"),h=h(),Cs(),h),Ks={class:"container mx-auto"},Qs={class:"grid md:grid-cols-1 gap-1"},Ys={class:"grid lg:grid-cols-3 gap-3",style:{"margin-bottom":"1.5rem"}},Zs={class:"c-card"},Xs={class:"c-card-header"},ea={class:"c-card-content"},sa={class:"c-card"},aa={class:"c-card-header"},oa={class:"c-card-content"},ta={class:"c-card"},la={class:"c-card-header"},na={class:"c-card-content"},ia={class:"grid lg:grid-cols-1 gap-1 card-header",style:{"margin-bottom":"1.5rem"}},da={style:{"margin-bottom":"1.5rem","font-weight":"700"},class:"card-header-h1"},ra={class:"grid lg:grid-cols-1 gap-1"},ca=Ze(()=>e("h1",{style:{"font-weight":"700"}},"Riesgo de error en los estados financieros",-1)),ua=Ze(()=>e("h1",{style:{"font-weight":"700"}},"Expectativas del cliente",-1)),ma={class:"grid md:grid-cols-2 gap-2"},ga={class:"grid lg:grid-cols-1 gap-1"},pa={style:{"margin-bottom":"1.5rem","font-weight":"700"}},ha={class:"grid md:grid-cols-2 gap-2"},va={class:"grid lg:grid-cols-1 gap-1 card-header",style:{"margin-bottom":"1.5rem"}},_a={style:{"margin-bottom":"1.5rem","font-weight":"700"},class:"card-header-h1"},ba={class:"grid lg:grid-cols-3 gap-3",style:{"margin-bottom":"1.5rem"}},fa={class:"c-card"},ka={class:"c-card-header"},$a={class:"c-card-content"},Va={class:"c-card"},ya={class:"c-card-header"},Ca={class:"c-card-content"},wa={class:"c-card"},Pa={class:"c-card-header"},Ia={class:"c-card-content"},Sa={class:"grid lg:grid-cols-1 gap-1",style:{"margin-bottom":"1.5rem"}},xa={class:"grid lg:grid-cols-2 gap-2",style:{"margin-bottom":"1.5rem"}},Aa={class:"grid lg:grid-cols-1 gap-1"},Ua={class:"grid lg:grid-cols-1 gap-1 card-header",style:{"margin-bottom":"1.5rem"}},Ra={style:{"margin-bottom":"1.5rem","font-weight":"700"},class:"card-header-h1"},Fa={class:"grid lg:grid-cols-1 gap-1"},Oa={style:{"margin-bottom":"1.5rem","font-weight":"700"}},ja={class:"grid md:grid-cols-3 gap-3"},Ea={class:"grid lg:grid-cols-1 gap-1 card-header",style:{"margin-bottom":"1.5rem"}},Da={style:{"margin-bottom":"1.5rem","font-weight":"700"},class:"card-header-h1"},Na={class:"grid md:grid-cols-2 gap-2"},Ma={class:"grid lg:grid-cols-1 gap-1"},qa={style:{"margin-bottom":"1.5rem","font-weight":"700"}},Ta={class:"grid md:grid-cols-2 gap-2"},Ba={class:"grid lg:grid-cols-1 gap-1 card-header",style:{"margin-bottom":"1.5rem"}},La={style:{"margin-bottom":"1.5rem","font-weight":"700"},class:"card-header-h1"},Ja=Ze(()=>e("th",null,null,-1)),Ha=["data-label"],za={class:"c-card"},Wa={class:"c-card-header"},Ga={class:"c-card-content"},Ka={class:"c-card"},Qa={class:"c-card-header"},Ya={class:"c-card-content"},Za=["data-label"],Xa={class:"c-card"},eo={class:"c-card-header"},so={class:"c-card-content"},ao={class:"c-card"},oo={class:"c-card-header"},to={class:"c-card-content"},lo=["data-label"],no={class:"c-card"},io={class:"c-card-header"},ro={class:"c-card-content"},co={class:"c-card"},uo={class:"c-card-header"},mo={class:"c-card-content"},go=["data-label"],po={class:"c-card"},ho={class:"c-card-header"},vo={class:"c-card-content"},_o={class:"grid lg:grid-cols-1 gap-1 card-header",style:{"margin-bottom":"1.5rem"}},bo={style:{"margin-bottom":"1.5rem","font-weight":"700"},class:"card-header-h1"},fo={class:"grid lg:grid-cols-1 gap-1"},ko={style:{"margin-bottom":"1.5rem","font-weight":"700"}},$o={class:"grid lg:grid-cols-2 gap-2"},Vo={class:"grid lg:grid-cols-1 gap-1"},yo={style:{"margin-bottom":"1.5rem","font-weight":"700"}},Co={class:"grid lg:grid-cols-1 gap-1",style:{"margin-bottom":"1.5rem"}},wo={class:"grid lg:grid-cols-1 gap-1 card-header",style:{"margin-bottom":"1.5rem"}},Po={style:{"margin-bottom":"1.5rem","font-weight":"700"},class:"card-header-h1"},Io={class:"grid lg:grid-cols-1 gap-1"},So={class:"grid lg:grid-cols-1 gap-1 card-header",style:{"margin-bottom":"1.5rem"}},xo={style:{"margin-bottom":"1.5rem","font-weight":"700"},class:"card-header-h1"},Ao={class:"grid lg:grid-cols-1 gap-1"},Uo={class:"grid lg:grid-cols-1 gap-1 card-header",style:{"margin-bottom":"1.5rem"}},Ro={style:{"margin-bottom":"1.5rem","font-weight":"700"},class:"card-header-h1"},Fo={class:"grid lg:grid-cols-1 gap-1"},Oo=Ze(()=>e("th",null,null,-1)),jo=["onClick"],Eo=["data-label"],Do=["data-label"],No=["data-label"],Mo=["data-label"],qo=["data-label"],To={class:"before:hidden lg:w-1 whitespace-nowrap"},Bo={class:"p-3 lg:px-6 border-t border-gray-100 dark:border-slate-800"},Lo={__name:"RisksTableView",props:{path:"",saveLabel:""},emits:["changePage","confirm","sort"],setup(h,{emit:b}){const{t:d}=Qe(),u=ks();$s();const O=f(!1),j=Ye(),X=f([]),ee=!1,L=f(!1),q=[{id:"Transacciones Recurrentes",label:d("message.risk.recurringTransactions")},{id:"Transacciones no Recurrentes",label:d("message.risk.nonRecurringTransactions")},{id:"Juicios y Estimaciones",label:d("message.risk.judgmentsAndEstimates")},{id:"accountingClosingEntries",label:d("message.risk.accountingClosingEntries")}],J=[{id:0,label:d("message.risk.quadrantI")},{id:1,label:d("message.risk.quadrantII")},{id:2,label:d("message.risk.quadrantII")},{id:3,label:d("message.risk.quadrantIV")},{id:4,label:d("message.risk.othersRisk")}],N=[{id:0,label:d("message.risk.critical")},{id:1,label:d("message.risk.strategic")},{id:3,label:d("message.risk.support")}],M=[{Intencionales:d("message.risk.intentional")},{"No Intencionales":d("message.risk.unintentional")},{"Viabilidad del negocio":d("message.risk.businessViability")},{"Expectativas del cliente":d("message.risk.customerExpectations")}];d("message.yes"),d("message.no");const _=[{id:"No aprobado",label:d("message.risk.untried")},{id:"Si",label:d("message.yes")},{id:"No",label:d("message.no")}],Y=[{id:"No aprobado",label:d("message.risk.untried")},{id:"Efectivo",label:d("message.risk.effective")},{id:"No efectivo",label:d("message.risk.noeffective")}],R=[{id:"Medio",label:d("message.risk.middle")},{id:"Largo",label:d("message.risk.low")},{id:"Alto",label:d("message.risk.high")}],re=U({radio:[]});U({switch:[]});const Z=U({switch:[]}),se=U({switch:[]}),H=U({checkbox:[]}),ae=U({checkbox:[]}),oe=U({checkbox:[]}),$=U({checkbox:[]}),y=U({checkbox:[]}),C=U({checkbox:[]}),A=U({checkbox:[]}),z=U({checkbox:[]}),ce=U({checkbox:[]}),he=U({checkbox:[]}),ve=U({checkbox:[]}),_e=U({checkbox:[]}),te=U({checkbox:[]}),p={_id:"",titulo:"",descripcion:"",ref:"",riesgoProveniente:q[0],cuadrante:J[0],areaRiesgo:N[0],expectativasNegocio:"",procedimientosAdicionales:"",inherente:R[0],control:R[0],anal\u00EDtico:R[0],factorRiesgo:"",procesosInvolucrados:"",fuentesCausantes:"",consecuenciaEF:"",ase_a1:"",ase_a2:"",ase_a3:"",ase_a4:"",ase_a5:"",ase_b1:"",ase_b2:"",ase_b3:"",ase_b4:"",ase_c1:"",ase_c2:"",ase_c3:"",ase_c4:"",sel_mon:_[0],sel_mon2:_[0],sel_gen:_[0],sel_gen2:_[0],sel_esp:_[0],sel_esp2:_[0],sel2_ini:Y[0],padc_enf:"",padc_res:"",referencia:"",pfo_mpro:"",rda_resi:"",conclusion:""},a=f(p),S=P(()=>j.listRisk.riesgos),F=P(()=>j.listRisk.total),x=P(()=>S.value),ue=P(()=>j.listRisk.perPage),Ve=P(()=>j.listRisk.page);f(!1);const ye=P(()=>Math.ceil(F.value/ue.value)),fe=P(()=>+Ve.value),Re=P(()=>{const l=[];for(let s=0;s<ye.value;s++)l.push(s);return l}),Fe=P(()=>({titulo:{required:Ps},descripcion:{required:Ps}})),r=Gs(Fe,a),v=l=>{b("changePage",l)},m=l=>{const{indice:s,titulo:w,descripcion:le,_id:ne,riesgoProveniente:be,cuadrante:ke,areaRiesgo:we,expectativasNegocio:t,procedimientosAdicionales:me,inherente:Se,control:Xe,analitico:es,factorRiesgo:ss,procesosInvolucrados:as,fuentesCausantes:os,consecuenciaEF:ts,ase_a1:Ue,ase_a2:Oe,ase_a3:je,ase_a4:Ee,ase_a5:De,ase_b1:Ne,ase_b2:Me,ase_b3:qe,ase_b4:Te,ase_c1:Be,ase_c2:Le,ase_c3:Je,ase_c4:He,sel_mon:ls,sel_mon2:ns,sel_gen:is,sel_gen2:ds,sel_esp:rs,sel_esp2:cs,sel2_ini:us,padc_enf:ms,padc_res:gs,referencia:ps,pfo_mpro:hs,rda_resi:vs,conclusion:_s}=l;a.value.ref=`${s.indice} - ${s.nombre}`,a.value.titulo=w,a.value.descripcion=le,a.value._id=ne,a.value.riesgoProveniente=q.filter(V=>V.id===be)[0],a.value.cuadrante=J.filter(V=>V.id===ke)[0],a.value.areaRiesgo=N.filter(V=>V.id===we)[0],re.radio=t,Z.switch=me==="Si"?[me]:[],se.switch=me==="No"?[me]:[],L.value=me==="Si",a.value.inherente=R.filter(V=>V.id===Se)[0],a.value.control=R.filter(V=>V.id===Xe)[0],a.value.analitico=R.filter(V=>V.id===es)[0],a.value.factorRiesgo=ss,a.value.procesosInvolucrados=as,a.value.fuentesCausantes=os,a.value.consecuenciaEF=ts,H.checkbox=Ue!==""?[Ue]:[],ae.checkbox=Oe!==""?[Oe]:[],oe.checkbox=je!==""?[je]:[],$.checkbox=Ee!==""?[Ee]:[],y.checkbox=De!==""?[De]:[],C.checkbox=Ne!==""?[Ne]:[],A.checkbox=Me!==""?[Me]:[],z.checkbox=qe!==""?[qe]:[],ce.checkbox=Te!==""?[Te]:[],he.checkbox=Be!==""?[Be]:[],ve.checkbox=Le!==""?[Le]:[],_e.checkbox=Je!==""?[Je]:[],te.checkbox=He!==""?[He]:[],a.value.sel_mon=_.filter(V=>V.id===ls)[0],a.value.sel_mon2=_.filter(V=>V.id===ns)[0],a.value.sel_gen=_.filter(V=>V.id===is)[0],a.value.sel_gen2=_.filter(V=>V.id===ds)[0],a.value.sel_esp=_.filter(V=>V.id===rs)[0],a.value.sel_esp2=_.filter(V=>V.id===cs)[0],a.value.sel2_ini=Y.filter(V=>V.id===us)[0],a.value.padc_enf=ms,a.value.padc_res=gs,a.value.referencia=ps,a.value.pfo_mpro=hs,a.value.rda_resi=vs,a.value.conclusion=_s,console.log(Ue),O.value=!0},E=()=>{a.value.inherente=R[0],a.value.control=R[0],a.value.analitico=R[0],a.value.factorRiesgo="",a.value.procesosInvolucrados="",a.value.fuentesCausantes="",a.value.consecuenciaEF="",H.checkbox=[],ae.checkbox=[],oe.checkbox=[],$.checkbox=[],y.checkbox=[],C.checkbox=[],A.checkbox=[],z.checkbox=[],ce.checkbox=[],he.checkbox=[],ve.checkbox=[],_e.checkbox=[],te.checkbox=[],a.value.sel_mon=_[0],a.value.sel_mon2=_[0],a.value.sel_gen=_[0],a.value.sel_gen2=_[0],a.value.sel_esp=_[0],a.value.sel_esp2=_[0],a.value.sel2_ini=Y[0],a.value.padc_enf="",a.value.padc_res="",a.value.referencia="",a.value.pfo_mpro="",a.value.rda_resi="",a.value.conclusion=""},T=l=>X.value=l,Ce=()=>d("message.audit.riskControlRegistration"),Ie=d("message.risk.updated.success");d("message.risk.updated.error");const Rs=async()=>{await r.value.$validate()?Fs().then(()=>{O.value=!1,v(fe.value),u.success(Ie)}).catch(s=>{var w,le,ne,be;if(console.log(s),(le=(w=s.response)==null?void 0:w.data)!=null&&le.msg){u.error(`${d("message.ridk.created.error")} ${s.response.data.msg}`);return}if((be=(ne=s.response)==null?void 0:ne.data)!=null&&be.errors){const ke=s.response.data.errors;for(let we of ke);}}):console.log("error")},Fs=async l=>{const{_id:s,titulo:w,descripcion:le,ref:ne,riesgoProveniente:be,cuadrante:ke,areaRiesgo:we,expectativasNegocio:t,procedimientosAdicionales:me,inherente:Se,control:Xe,anal\u00EDtico:es,factorRiesgo:ss,procesosInvolucrados:as,fuentesCausantes:os,consecuenciaEF:ts,ase_a1:Ue,ase_a2:Oe,ase_a3:je,ase_a4:Ee,ase_a5:De,ase_b1:Ne,ase_b2:Me,ase_b3:qe,ase_b4:Te,ase_c1:Be,ase_c2:Le,ase_c3:Je,ase_c4:He,sel_mon:ls,sel_mon2:ns,sel_gen:is,sel_gen2:ds,sel_esp:rs,sel_esp2:cs,sel2_ini:us,padc_enf:ms,padc_res:gs,referencia:ps,pfo_mpro:hs,rda_resi:vs,conclusion:_s}=a.value,V={_id:s,titulo:w,descripcion:le,ref:ne,riesgoProveniente:be.id,cuadrante:ke.id,areaRiesgo:we.id,expectativasNegocio:t,procedimientosAdicionales:me,inherente:Se.id,control:Xe.id,anal\u00EDtico:es.id,factorRiesgo:ss,procesosInvolucrados:as,fuentesCausantes:os,consecuenciaEF:ts,ase_a1:Ue,ase_a2:Oe,ase_a3:je,ase_a4:Ee,ase_a5:De,ase_b1:Ne,ase_b2:Me,ase_b3:qe,ase_b4:Te,ase_c1:Be,ase_c2:Le,ase_c3:Je,ase_c4:He,sel_mon:ls.id,sel_mon2:ns.id,sel_gen:is.id,sel_gen2:ds.id,sel_esp:rs.id,sel_esp2:cs.id,sel2_ini:us.id,padc_enf:ms,padc_res:gs,referencia:ps,pfo_mpro:hs,rda_resi:vs,conclusion:_s};return Ge.update(V)},Os=l=>{let s=re.radio;s[0]===void 0||s[0],a.value.expectativasNegocio=s,console.log(a)},ws=l=>{let s="";switch(l){case 0:s=se.switch,Z.switch=[],L.value=!1;break;case 1:s=Z.switch,se.switch=[],L.value=!0;break;default:s="";break}E(),a.value.procedimientosAdicionales=s[0]===void 0?"":s[0]},W=l=>{let s="";switch(l){case"ase_a1":s=H.checkbox;break;case"ase_a2":s=ae.checkbox;break;case"ase_a3":s=oe.checkbox;break;case"ase_a4":s=$.checkbox;break;case"ase_a5":s=y.checkbox;break;case"ase_b1":s=C.checkbox;break;case"ase_b2":s=A.checkbox;break;case"ase_b3":s=z.checkbox;break;case"ase_b4":s=ce.checkbox;break;case"ase_c1":s=he.checkbox;break;case"ase_c2":s=ve.checkbox;break;case"ase_c3":s=_e.checkbox;break;case"ase_c4":s=te.checkbox;break;default:s="";break}a.value[l]=s[0]===void 0?"":s[0],console.log(a)};return(l,s)=>(I(),B(de,null,[o(We,{modelValue:O.value,"onUpdate:modelValue":s[57]||(s[57]=w=>O.value=w),title:Ce(),hasDone:ee,claseModal:"shadow-lg max-h-modal w-11/12 md:w-3/5 lg:w-8/12 xl:w-8/12 z-50",style:{height:"100%"}},{default:i(()=>[o(ie,{isForm:"",onSubmit:bs(Rs,["prevent"]),style:{height:"600px","overflow-y":"auto"}},{footer:i(()=>[o(Q,{label:l.$t("message.submit"),type:"submit",color:"success"},null,8,["label"])]),default:i(()=>{var w,le,ne,be,ke,we;return[e("div",null,[e("div",Ks,[e("div",Qs,[o(g,{label:l.$t("message.risk.ref")},{default:i(()=>[o(k,{name:"ref",modelValue:a.value.ref,"onUpdate:modelValue":s[0]||(s[0]=t=>a.value.ref=t),icon:c(G)},null,8,["modelValue","icon"])]),_:1},8,["label"]),o(g,{label:l.$t("message.risk.title"),help:(ne=(le=(w=c(r))==null?void 0:w.titulo)==null?void 0:le.$errors[0])==null?void 0:ne.$message},{default:i(()=>[o(k,{name:"titulo",modelValue:a.value.titulo,"onUpdate:modelValue":s[1]||(s[1]=t=>a.value.titulo=t),icon:c(G)},null,8,["modelValue","icon"])]),_:1},8,["label","help"]),o(g,{label:l.$t("message.risk.description"),help:(we=(ke=(be=c(r))==null?void 0:be.descripcion)==null?void 0:ke.$errors[0])==null?void 0:we.$message,style:{"margin-bottom":"1.5rem"}},{default:i(()=>[o(k,{type:"textarea",modelValue:a.value.descripcion,"onUpdate:modelValue":s[2]||(s[2]=t=>a.value.descripcion=t),icon:c(G)},null,8,["modelValue","icon"])]),_:1},8,["label","help"])]),e("div",Ys,[e("div",Zs,[e("div",Xs,n(l.$t("message.risk.riskFrom")),1),e("div",ea,[o(g,null,{default:i(()=>[o(k,{modelValue:a.value.riesgoProveniente,"onUpdate:modelValue":s[3]||(s[3]=t=>a.value.riesgoProveniente=t),icon:c(K),options:q},null,8,["modelValue","icon"])]),_:1})])]),e("div",sa,[e("div",aa,n(l.$t("message.risk.quadrant")),1),e("div",oa,[o(g,null,{default:i(()=>[o(k,{modelValue:a.value.cuadrante,"onUpdate:modelValue":s[4]||(s[4]=t=>a.value.cuadrante=t),icon:c(K),options:J},null,8,["modelValue","icon"])]),_:1})])]),e("div",ta,[e("div",la,n(l.$t("message.risk.riskArea")),1),e("div",na,[o(g,null,{default:i(()=>[o(k,{modelValue:a.value.areaRiesgo,"onUpdate:modelValue":s[5]||(s[5]=t=>a.value.areaRiesgo=t),icon:c(K),options:N},null,8,["modelValue","icon"])]),_:1})])])]),e("div",ia,[e("h1",da,n(l.$t("message.risk.natureOfTheRisk")),1)]),e("div",ra,[ca,ua,e("div",ma,[(I(),B(de,null,Pe(M,(t,me)=>o(g,{label:""},{default:i(()=>[o(D,{modelValue:re.radio,"onUpdate:modelValue":s[6]||(s[6]=Se=>re.radio=Se),name:"sample-radio",type:"radio",options:M[me],onChange:Se=>Os(M[me])},null,8,["modelValue","options","onChange"])]),_:2},1024)),64))])]),e("div",ga,[e("h1",pa,n(l.$t("message.risk.additionalProcedures")),1),e("div",ha,[o(g,{label:""},{default:i(()=>[o(D,{modelValue:Z.switch,"onUpdate:modelValue":s[7]||(s[7]=t=>Z.switch=t),name:"sample-switch",type:"switch",options:{Si:c(d)("message.yes")},onChange:s[8]||(s[8]=t=>ws(1))},null,8,["modelValue","options"])]),_:1}),o(g,{label:""},{default:i(()=>[o(D,{modelValue:se.switch,"onUpdate:modelValue":s[9]||(s[9]=t=>se.switch=t),name:"sample-switch",type:"switch",options:{No:c(d)("message.no")},onChange:s[10]||(s[10]=t=>ws(0))},null,8,["modelValue","options"])]),_:1})])]),js(e("div",null,[e("div",va,[e("h1",_a,n(l.$t("message.risk.risksAssessment")),1)]),e("div",ba,[e("div",fa,[e("div",ka,n(l.$t("message.risk.inherent")),1),e("div",$a,[o(g,null,{default:i(()=>[o(k,{modelValue:a.value.inherente,"onUpdate:modelValue":s[11]||(s[11]=t=>a.value.inherente=t),icon:c(K),options:R},null,8,["modelValue","icon"])]),_:1})])]),e("div",Va,[e("div",ya,n(l.$t("message.risk.control")),1),e("div",Ca,[o(g,null,{default:i(()=>[o(k,{modelValue:a.value.control,"onUpdate:modelValue":s[12]||(s[12]=t=>a.value.control=t),icon:c(K),options:R},null,8,["modelValue","icon"])]),_:1})])]),e("div",wa,[e("div",Pa,n(l.$t("message.risk.analytic")),1),e("div",Ia,[o(g,null,{default:i(()=>[o(k,{modelValue:a.value.anal\u00EDtico,"onUpdate:modelValue":s[13]||(s[13]=t=>a.value.anal\u00EDtico=t),icon:c(K),options:R},null,8,["modelValue","icon"])]),_:1})])])]),e("div",Sa,[o(g,{label:l.$t("message.risk.riskFactor")},{default:i(()=>[o(k,{name:"titulo",modelValue:a.value.factorRiesgo,"onUpdate:modelValue":s[14]||(s[14]=t=>a.value.factorRiesgo=t),icon:c(G)},null,8,["modelValue","icon"])]),_:1},8,["label"])]),e("div",xa,[o(g,{label:l.$t("message.risk.processesWhereRiskIsInvolved")},{default:i(()=>[o(k,{type:"textarea",modelValue:a.value.procesosInvolucrados,"onUpdate:modelValue":s[15]||(s[15]=t=>a.value.procesosInvolucrados=t),icon:c(G)},null,8,["modelValue","icon"])]),_:1},8,["label"]),o(g,{label:l.$t("message.risk.causativeSourceOfRisk")},{default:i(()=>[o(k,{type:"textarea",modelValue:a.value.fuentesCausantes,"onUpdate:modelValue":s[16]||(s[16]=t=>a.value.fuentesCausantes=t),icon:c(G)},null,8,["modelValue","icon"])]),_:1},8,["label"])]),e("div",Aa,[o(g,{label:l.$t("message.risk.impactOnTheFinancialStatementsAndAccountsConcerned")},{default:i(()=>[o(k,{type:"textarea",modelValue:a.value.consecuenciaEF,"onUpdate:modelValue":s[17]||(s[17]=t=>a.value.consecuenciaEF=t),icon:c(G)},null,8,["modelValue","icon"])]),_:1},8,["label"])]),e("div",Ua,[e("h1",Ra,n(l.$t("message.risk.associatedAssertions")),1)]),e("div",Fa,[e("h1",Oa,n(l.$t("message.risk.assertionsAboutTransactionClassesAndEvents")),1)]),e("div",ja,[o(g,{label:""},{default:i(()=>[o(D,{modelValue:H.checkbox,"onUpdate:modelValue":s[18]||(s[18]=t=>H.checkbox=t),name:"sample-checkbox",options:{"I. Ocurrencia (O)":l.$t("message.risk.iOccurrence(O)")},onChange:s[19]||(s[19]=t=>W("ase_a1"))},null,8,["modelValue","options"])]),_:1}),o(g,{label:""},{default:i(()=>[o(D,{modelValue:ae.checkbox,"onUpdate:modelValue":s[20]||(s[20]=t=>ae.checkbox=t),name:"sample-checkbox",options:{"II. Integridad (I)":l.$t("message.risk.iiIntegrity(I)")},onChange:s[21]||(s[21]=t=>W("ase_a2"))},null,8,["modelValue","options"])]),_:1}),o(g,{label:""},{default:i(()=>[o(D,{modelValue:oe.checkbox,"onUpdate:modelValue":s[22]||(s[22]=t=>oe.checkbox=t),name:"sample-checkbox",options:{"III. Precisi\xF3n (P)":l.$t("message.risk.iiiAccuracy(A)")},onChange:s[23]||(s[23]=t=>W("ase_a3"))},null,8,["modelValue","options"])]),_:1}),o(g,{label:""},{default:i(()=>[o(D,{modelValue:$.checkbox,"onUpdate:modelValue":s[24]||(s[24]=t=>$.checkbox=t),name:"sample-checkbox",options:{"IV. Corte (CO)":l.$t("message.risk.iVCourt(CO)")},onChange:s[25]||(s[25]=t=>W("ase_a4"))},null,8,["modelValue","options"])]),_:1}),o(g,{label:""},{default:i(()=>[o(D,{modelValue:y.checkbox,"onUpdate:modelValue":s[26]||(s[26]=t=>y.checkbox=t),name:"sample-checkbox",options:{"V. Clasificaci\xF3n (CL)":l.$t("message.risk.vClassification(CL)")},onChange:s[27]||(s[27]=t=>W("ase_a5"))},null,8,["modelValue","options"])]),_:1})]),e("div",Ea,[e("h1",Da,n(l.$t("message.risk.statementsOnBalancingItems")),1)]),e("div",Na,[o(g,{label:""},{default:i(()=>[o(D,{modelValue:C.checkbox,"onUpdate:modelValue":s[28]||(s[28]=t=>C.checkbox=t),name:"sample-checkbox",options:{"I. Existencia (E)":l.$t("message.risk.iExistence(E)")},onChange:s[29]||(s[29]=t=>W("ase_b1"))},null,8,["modelValue","options"])]),_:1}),o(g,{label:""},{default:i(()=>[o(D,{modelValue:A.checkbox,"onUpdate:modelValue":s[30]||(s[30]=t=>A.checkbox=t),name:"sample-checkbox",options:{"II. Derechos y Obligaciones (DO)":l.$t("message.risk.iiRightsAndObligations(RO)")},onChange:s[31]||(s[31]=t=>W("ase_b2"))},null,8,["modelValue","options"])]),_:1}),o(g,{label:""},{default:i(()=>[o(D,{modelValue:z.checkbox,"onUpdate:modelValue":s[32]||(s[32]=t=>z.checkbox=t),name:"sample-checkbox",options:{"III. Integrity (I)":l.$t("message.risk.iiiIntegrity(I)")},onChange:s[33]||(s[33]=t=>W("ase_b3"))},null,8,["modelValue","options"])]),_:1}),o(g,{label:""},{default:i(()=>[o(D,{modelValue:ce.checkbox,"onUpdate:modelValue":s[34]||(s[34]=t=>ce.checkbox=t),name:"sample-checkbox",options:{"IV. Evaluaci\xF3n y Asignaci\xF3n (VA)":l.$t("message.risk.ivEvaluationAndAssignment(EA)")},onChange:s[35]||(s[35]=t=>W("ase_b4"))},null,8,["modelValue","options"])]),_:1})]),e("div",Ma,[e("h1",qa,n(l.$t("message.risk.assertionsAboutPresentationAndDisclosure")),1)]),e("div",Ta,[o(g,{label:""},{default:i(()=>[o(D,{modelValue:he.checkbox,"onUpdate:modelValue":s[36]||(s[36]=t=>he.checkbox=t),name:"sample-checkbox",options:{"I. La Ocurrencia y los Derechos y Oblicgaciones (ODO)":l.$t("message.risk.iTheOccurrenceAndRightsAndOblications(ORO)")},onChange:s[37]||(s[37]=t=>W("ase_c1"))},null,8,["modelValue","options"])]),_:1}),o(g,{label:""},{default:i(()=>[o(D,{modelValue:ve.checkbox,"onUpdate:modelValue":s[38]||(s[38]=t=>ve.checkbox=t),name:"sample-checkbox",options:{"II. Integirdad (I)":l.$t("message.risk.iiIntegrity(I)")},onChange:s[39]||(s[39]=t=>W("ase_c2"))},null,8,["modelValue","options"])]),_:1}),o(g,{label:""},{default:i(()=>[o(D,{modelValue:_e.checkbox,"onUpdate:modelValue":s[40]||(s[40]=t=>_e.checkbox=t),name:"sample-checkbox",options:{"III. Clasificaci\xF3n y Comprensi\xF3n (CC)":l.$t("message.risk.iiiClassificationAndComprehension(CC)")},onChange:s[41]||(s[41]=t=>W("ase_c3"))},null,8,["modelValue","options"])]),_:1}),o(g,{label:""},{default:i(()=>[o(D,{modelValue:te.checkbox,"onUpdate:modelValue":s[42]||(s[42]=t=>te.checkbox=t),name:"sample-checkbox",options:{"IV. Precisi\xF3n y Valuaci\xF3n (PV)":l.$t("message.risk.ivAccuracyAndValuation(AV)")},onChange:s[43]||(s[43]=t=>W("ase_c4"))},null,8,["modelValue","options"])]),_:1})]),e("div",Ba,[e("h1",La,n(l.$t("message.risk.evaluationOfControls")),1)]),e("table",null,[e("thead",null,[e("tr",null,[Ja,e("th",null,n(l.$t("message.risk.effectiveDesign")),1),e("th",null,n(l.$t("message.risk.effectiveOperability")),1)])]),e("tbody",null,[e("tr",null,[e("td",{"data-label":l.$t("message.risk.monitoring")},n(c(d)("message.risk.monitoring")),9,Ha),e("td",null,[e("div",za,[e("div",Wa,n(l.$t("message.risk.monitoring")),1),e("div",Ga,[o(g,null,{default:i(()=>[o(k,{modelValue:a.value.sel_mon,"onUpdate:modelValue":s[44]||(s[44]=t=>a.value.sel_mon=t),icon:c(K),options:_},null,8,["modelValue","icon"])]),_:1})])])]),e("td",null,[e("div",Ka,[e("div",Qa,n(l.$t("message.risk.monitoring")),1),e("div",Ya,[o(g,null,{default:i(()=>[o(k,{modelValue:a.value.sel_mon2,"onUpdate:modelValue":s[45]||(s[45]=t=>a.value.sel_mon2=t),icon:c(K),options:_},null,8,["modelValue","icon"])]),_:1})])])])]),e("tr",null,[e("td",{"data-label":l.$t("message.risk.general")},n(c(d)("message.risk.general")),9,Za),e("td",null,[e("div",Xa,[e("div",eo,n(l.$t("message.risk.general")),1),e("div",so,[o(g,null,{default:i(()=>[o(k,{modelValue:a.value.sel_gen,"onUpdate:modelValue":s[46]||(s[46]=t=>a.value.sel_gen=t),icon:c(K),options:_},null,8,["modelValue","icon"])]),_:1})])])]),e("td",null,[e("div",ao,[e("div",oo,n(l.$t("message.risk.general")),1),e("div",to,[o(g,null,{default:i(()=>[o(k,{modelValue:a.value.sel_gen2,"onUpdate:modelValue":s[47]||(s[47]=t=>a.value.sel_gen2=t),icon:c(K),options:_},null,8,["modelValue","icon"])]),_:1})])])])]),e("tr",null,[e("td",{"data-label":l.$t("message.risk.specific")},n(c(d)("message.risk.specific")),9,lo),e("td",null,[e("div",no,[e("div",io,n(l.$t("message.risk.specific")),1),e("div",ro,[o(g,null,{default:i(()=>[o(k,{modelValue:a.value.sel_esp,"onUpdate:modelValue":s[48]||(s[48]=t=>a.value.sel_esp=t),icon:c(K),options:_},null,8,["modelValue","icon"])]),_:1})])])]),e("td",null,[e("div",co,[e("div",uo,n(l.$t("message.risk.specific")),1),e("div",mo,[o(g,null,{default:i(()=>[o(k,{modelValue:a.value.sel_esp2,"onUpdate:modelValue":s[49]||(s[49]=t=>a.value.sel_esp2=t),icon:c(K),options:_},null,8,["modelValue","icon"])]),_:1})])])])]),e("tr",null,[e("td",{"data-label":l.$t("message.risk.informationIntegrity")},n(c(d)("message.risk.informationIntegrity")),9,go),e("td",null,[e("div",po,[e("div",ho,n(l.$t("message.risk.informationIntegrity")),1),e("div",vo,[o(g,null,{default:i(()=>[o(k,{modelValue:a.value.sel2_ini,"onUpdate:modelValue":s[50]||(s[50]=t=>a.value.sel2_ini=t),icon:c(K),options:Y},null,8,["modelValue","icon"])]),_:1})])])])])])]),e("div",_o,[e("h1",bo,n(l.$t("message.risk.riskReductionApproach")),1)]),e("div",fo,[e("h1",ko,n(l.$t("message.risk.detect/CorrectExistingErrors")),1)]),e("div",$o,[o(g,{label:l.$t("message.risk.approach")},{default:i(()=>[o(k,{type:"textarea",modelValue:a.value.padc_enf,"onUpdate:modelValue":s[51]||(s[51]=t=>a.value.padc_enf=t),icon:c(G)},null,8,["modelValue","icon"])]),_:1},8,["label"]),o(g,{label:l.$t("message.risk.outcomeOfTheAuditProceduresApplied")},{default:i(()=>[o(k,{type:"textarea",modelValue:a.value.padc_res,"onUpdate:modelValue":s[52]||(s[52]=t=>a.value.padc_res=t),icon:c(G)},null,8,["modelValue","icon"])]),_:1},8,["label"])]),e("div",Vo,[e("h1",yo,n(l.$t("message.risk.reference(s)ToWorkingPapers")),1)]),e("div",Co,[o(g,{label:""},{default:i(()=>[o(k,{type:"textarea",modelValue:a.value.referencia,"onUpdate:modelValue":s[53]||(s[53]=t=>a.value.referencia=t),icon:c(G)},null,8,["modelValue","icon"])]),_:1})]),e("div",wo,[e("h1",Po,n(l.$t("message.risk.preventionOfFutureOccurrence:")),1)]),e("div",Io,[o(g,{label:l.$t("message.risk.recommendationForProcessImprovementprocess")},{default:i(()=>[o(k,{type:"textarea",modelValue:a.value.pfo_mpro,"onUpdate:modelValue":s[54]||(s[54]=t=>a.value.pfo_mpro=t),icon:c(G)},null,8,["modelValue","icon"])]),_:1},8,["label"])]),e("div",So,[e("h1",xo,n(l.$t("message.risk.residualAuditRisk")),1)]),e("div",Ao,[o(g,{label:""},{default:i(()=>[o(k,{type:"textarea",modelValue:a.value.rda_resi,"onUpdate:modelValue":s[55]||(s[55]=t=>a.value.rda_resi=t),icon:c(G)},null,8,["modelValue","icon"])]),_:1})]),e("div",Uo,[e("h1",Ro,n(l.$t("message.risk.effectOnTheAuditOpinion")),1)]),e("div",Fo,[o(g,{label:""},{default:i(()=>[o(k,{type:"textarea",modelValue:a.value.conclusion,"onUpdate:modelValue":s[56]||(s[56]=t=>a.value.conclusion=t),icon:c(G)},null,8,["modelValue","icon"])]),_:1})])],512),[[Es,L.value]])])])]}),_:1},8,["onSubmit"])]),_:1},8,["modelValue","title"]),e("table",null,[e("thead",null,[e("tr",null,[e("th",null,n(l.$t("message.audit.ref")),1),e("th",null,n(l.$t("message.audit.title")),1),e("th",null,n(l.$t("message.audit.auditor")),1),e("th",null,n(l.$t("message.audit.quadrant")),1),e("th",null,n(l.$t("message.audit.date")),1),Oo])]),e("tbody",null,[(I(!0),B(de,null,Pe(c(x),(w,le)=>(I(),B("tr",{key:w._id,onClick:ne=>T(w)},[e("td",{"data-label":l.$t("message.audit.ref")},n(w.indice.indice),9,Eo),e("td",{"data-label":l.$t("message.audit.title")},n(w.titulo),9,Do),e("td",{"data-label":l.$t("message.audit.auditor")},n(w.usuario.lastname)+" "+n(w.usuario.firstname),9,No),e("td",{"data-label":l.$t("message.audit.quadrant")}," cuadrante ",8,Mo),e("td",{"data-label":l.$t("message.audit.date")}," 16-08-2023 ",8,qo),e("td",To,[o(Ae,{type:"justify-start lg:justify-end","no-wrap":""},{default:i(()=>[o(Q,{color:"info",icon:c(Ds),small:"",onClick:ne=>m(w)},null,8,["icon","onClick"]),o(Q,{color:"info",icon:c(Ns),small:""},null,8,["icon"]),o(Q,{color:"info",icon:c(xs),small:""},null,8,["icon"])]),_:2},1024)])],8,jo))),128))])]),e("div",Bo,[o(Vs,null,{default:i(()=>[o(Ae,null,{default:i(()=>[(I(!0),B(de,null,Pe(c(Re),w=>(I(),$e(Q,{key:w,active:w===c(Ve)-1,label:w+1,color:w===c(Ve)?"lightDark":"whiteDark",small:"",onClick:le=>v(w+1)},null,8,["active","label","color","onClick"]))),128))]),_:1}),e("small",null,"Page "+n(c(fe))+" of "+n(c(ye)),1)]),_:1})])],64))}},Jo=fs(Lo,[["__scopeId","data-v-d294fee3"]]),ze="api/uploads/",Ke={create(h){return new Promise((b,d)=>{ge.post(ze,h,{headers:pe(!0)}).then(u=>b(u)).catch(u=>d(u))})},read(h,b,d={}){return new Promise((u,O)=>{ge.get(`${ze}archivoProyectoYEnfoquesGet/${h}/${b}`,{params:d},{headers:pe()}).then(j=>u(j.data)).catch(j=>O(j))})},downloadFiled(h){return new Promise((b,d)=>{ge.get(`${ze}download/${h}`,{headers:pe()}).then(u=>b(u)).catch(u=>d(u))})},delete(h){return new Promise((b,d)=>{ge.delete(`${ze}/${h}`,{headers:pe()}).then(u=>b(u.data)).catch(u=>d(u))})}},Ho=e("th",null,null,-1),zo=["onClick"],Wo=["data-label"],Go={class:"before:hidden lg:w-1 whitespace-nowrap"},Ko={class:"p-3 lg:px-6 border-t border-gray-100 dark:border-slate-800"},Qo={__name:"UploadTableView",emits:["changePage","confirm","sort"],setup(h,{emit:b}){const{t:d}=Qe(),u=ks();$s();const O=Ye(),j=f([]),X=P(()=>O.filesProjectApproaches.Uploads),ee=P(()=>O.filesProjectApproaches.total),L=P(()=>X.value),q=P(()=>O.filesProjectApproaches.perPage),J=P(()=>O.filesProjectApproaches.page),N=f(!1),M=$=>{N.value=!N.value,b("sort",$,N.value)},_=P(()=>Math.ceil(ee.value/q.value)),Y=P(()=>+J.value),R=P(()=>{const $=[];for(let y=0;y<_.value;y++)$.push(y);return $}),re=$=>{b("changePage",$)},Z=$=>{Ke.downloadFiled($._id)},se=$=>j.value=$,H=d("message.file.deleted.success");d("message.file.deleted.error");const ae=async $=>{j.value=$,oe().then(()=>{u.success(H),b("changePage",J.value)}).catch(y=>{var C;u.error(`${d("message.file.deleted.erro")} ${(C=y==null?void 0:y.response)==null?void 0:C.data.msg}`)})},oe=()=>{const{_id:$}=j.value;return Ke.delete($)};return($,y)=>(I(),B(de,null,[e("table",null,[e("thead",null,[e("tr",null,[e("th",{onClick:y[0]||(y[0]=C=>M("nombre"))},n($.$t("message.file.name")),1),Ho])]),e("tbody",null,[(I(!0),B(de,null,Pe(c(L),(C,A)=>(I(),B("tr",{key:C._id,onClick:z=>se(C)},[e("td",{"data-label":$.$t("message.file.name")},n(C.nombre),9,Wo),e("td",Go,[o(Ae,{type:"justify-start lg:justify-end","no-wrap":""},{default:i(()=>[o(Q,{color:"info",icon:c(As),small:"",onClick:z=>Z(C)},null,8,["icon","onClick"]),o(Q,{color:"info",icon:c(xs),small:"",onClick:z=>ae(C)},null,8,["icon","onClick"])]),_:2},1024)])],8,zo))),128))])]),e("div",Ko,[o(Vs,null,{default:i(()=>[o(Ae,null,{default:i(()=>[(I(!0),B(de,null,Pe(c(R),C=>(I(),$e(Q,{key:C,active:C===c(J)-1,label:C+1,color:C===c(J)?"lightDark":"whiteDark",small:"",onClick:A=>re(C+1)},null,8,["active","label","color","onClick"]))),128))]),_:1}),e("small",null,"Page "+n(c(Y))+" of "+n(c(_)),1)]),_:1})])],64))}};const Us=h=>(ys("data-v-22690848"),h=h(),Cs(),h),Yo={style:{"font-weight":"700"}},Zo={class:"c-element-h2"},Xo={class:"c-element-h2"},et={class:"mb-0"},st=Us(()=>e("label",{for:"formFile",class:"mb-0 inline-block text-neutral-700 dark:text-neutral-200"},"Default file input example",-1)),at={class:"title-modal"},ot={style:{"font-weight":"700"}},tt={class:"c-element-h2"},lt={class:"c-element-h2"},nt={class:"grid md:grid-cols-1 gap-2"},it=Us(()=>e("th",null,null,-1)),dt=["data-label"],rt=["data-label"],ct={class:"before:hidden lg:w-1 whitespace-nowrap"},ut={class:"p-3 lg:px-6 border-t border-gray-100 dark:border-slate-800"},mt={__name:"AudiTableView",props:{path:"",saveLabel:"",state:{}},emits:["changePage","confirm","sort"],setup(h,{emit:b}){const d=h,{t:u}=Qe(),O=f(1),j=f(10),X=ks();$s();const ee=f(!1),L=f(!1),q=Ye(),J=!1;Ms();const N=f(null),M=f(null),_=f(),{_id:Y,codigo:R}=JSON.parse(localStorage.getItem("selectedProject")),re=P(()=>q.auditAproaches.enfoques),Z=P(()=>q.auditAproaches.total),se=P(()=>q.auditAproaches.perPage),H=P(()=>q.auditAproaches.page),ae=r=>{const v=JSON.parse(localStorage.getItem("selectedProject"));p(v._id,_.value)},oe=(r,v)=>{const m=JSON.parse(localStorage.getItem("selectedProject"));p(m._id,_.value)},$=P(()=>re.value),y=f(!1),A=f({_id:"",indice:"",titulo:"",descripcion:"",proyecto:Y}),z=r=>{y.value=!y.value,b("sort",r,y.value)},ce=P(()=>Math.ceil(Z.value/se.value)),he=P(()=>+H.value),ve=P(()=>{const r=[];for(let v=0;v<ce.value;v++)r.push(v);return r}),_e=r=>{b("changePage",r)},te=async r=>{const{ruta:v,_id:m}=r,E=JSON.parse(localStorage.getItem("selectedProject"));N.value=`${E.codigo}/${v}`,_.value=m,p(),setTimeout(()=>{L.value=!0},10)},p=r=>{const v=JSON.parse(localStorage.getItem("selectedProject"));Ke.read(v._id,_.value,r).then(m=>{console.log(m),q.filesProjectApproaches=m,O.value=m.page,j.value=m.perPage})},a=d.path==="create"?u("message.file.created.success"):u("message.file.updated.success");d.path==="create"?u("message.file.created.error"):u("message.file.updated.error");const S=async()=>{F().then(()=>{L.value=!1,X.success(a)}).catch(r=>{var v,m,E,T;if(console.log(r),(m=(v=r.response)==null?void 0:v.data)!=null&&m.msg){X.error(`${u("message.file.created.error")} ${r.response.data.msg}`);return}if((T=(E=r.response)==null?void 0:E.data)!=null&&T.errors){const Ce=r.response.data.errors;for(let Ie of Ce);}})},F=async()=>{const r=new FormData;return r.append("archivo",M.value),r.append("ruta",N.value),r.append("nombre",M.value.name),r.append("type",M.value.type),r.append("proyecto",Y),r.append("enfoque",_.value),Ke.create(r)},x=r=>{M.value=r.target.files[0]},ue=r=>{const{indice:v,_id:m}=r;A.value.indice=m,A.value.titulo="",A.value.descripcion="",setTimeout(()=>{ee.value=!0},10)},Ve=d.path==="create"?u("message.audit.created.success"):u("message.audit.updated.success");d.path==="create"?u("message.audit.created.error"):u("message.audit.updated.error");const ye=async()=>{fe(A).then(()=>{ee.value=!1,X.success(Ve)}).catch(r=>{var v,m,E,T;if(console.log(r),(m=(v=r.response)==null?void 0:v.data)!=null&&m.msg){X.error(`${u("message.audit.created.error")} ${r.response.data.msg}`);return}if((T=(E=r.response)==null?void 0:E.data)!=null&&T.errors){const Ce=r.response.data.errors;for(let Ie of Ce);}})},fe=async r=>{const{_id:v,indice:m,titulo:E,descripcion:T,proyecto:Ce}=r.value,Ie={_id:v,indice:m,titulo:E,descripcion:T,proyecto:Ce};return d.path==="create"?Ge.create(Ie):Ge.update(Ie)},Re=()=>{const{_id:r,codigo:v}=JSON.parse(localStorage.getItem("selectedProject"));return v},Fe=()=>{const{cliente:r}=JSON.parse(localStorage.getItem("selectedProject"));return r==null?void 0:r.nombre};return(r,v)=>(I(),B(de,null,[o(We,{modelValue:L.value,"onUpdate:modelValue":v[0]||(v[0]=m=>L.value=m),hasDone:J},{default:i(()=>{var m,E,T;return[o(ie,{style:{padding:"0px"}},{default:i(()=>[e("div",null,[e("h2",Yo,n(r.$t("message.project.project"))+": "+n(Re()),1),e("h2",Zo,n(r.$t("message.project.client"))+": "+n(Fe()),1),e("h2",Xo,n(r.$t("message.audit.uploadFile")),1)]),o(ie,{isForm:"",onSubmit:bs(S,["prevent"]),class:"bg-gray-200",style:{padding:"0px"}},{footer:i(()=>[o(Q,{label:r.$t("message.submit"),type:"submit",color:"success"},null,8,["label"])]),default:i(()=>[e("div",et,[st,e("input",{class:"relative m-0 block w-full min-w-0 flex-auto rounded border border-solid border-neutral-300 bg-clip-padding px-3 py-[0.32rem] text-base font-normal text-neutral-700 transition duration-300 ease-in-out file:-mx-3 file:-my-[0.32rem] file:overflow-hidden file:rounded-none file:border-0 file:border-solid file:border-inherit file:bg-neutral-100 file:px-3 file:py-[0.32rem] file:text-neutral-700 file:transition file:duration-150 file:ease-in-out file:[border-inline-end-width:1px] file:[margin-inline-end:0.75rem] hover:file:bg-neutral-200 focus:border-primary focus:text-neutral-700 focus:shadow-te-primary focus:outline-none dark:border-neutral-600 dark:text-neutral-200 dark:file:bg-neutral-700 dark:file:text-neutral-100 dark:focus:border-primary",type:"file",ref_key:"archivo",ref:M,onChange:x},null,544)])]),_:1},8,["onSubmit"])]),_:1}),(T=(E=(m=c(q))==null?void 0:m.filesProjectApproaches)==null?void 0:E.Uploads)!=null&&T.length?(I(),$e(ie,{key:0,class:"mb-6","has-table":""},{default:i(()=>[o(Qo,{onChangePage:ae,onSort:oe})]),_:1})):qs("",!0)]}),_:1},8,["modelValue"]),o(We,{modelValue:ee.value,"onUpdate:modelValue":v[3]||(v[3]=m=>ee.value=m),hasDone:J},{default:i(()=>[e("div",at,[e("h2",ot,n(r.$t("message.project.project"))+": "+n(Re()),1),e("h2",tt,n(r.$t("message.project.client"))+": "+n(Fe()),1),e("h2",lt,n(r.$t("message.audit.addRisk")),1)]),o(ie,{isForm:"",onSubmit:bs(ye,["prevent"])},{footer:i(()=>[o(Q,{label:r.$t("message.submit"),type:"submit",color:"success"},null,8,["label"])]),default:i(()=>[e("div",nt,[o(g,{label:r.$t("message.audit.title")},{default:i(()=>[o(k,{name:"indice",modelValue:A.value.titulo,"onUpdate:modelValue":v[1]||(v[1]=m=>A.value.titulo=m),icon:r.mdiCodeBraces},null,8,["modelValue","icon"])]),_:1},8,["label"]),o(g,{label:r.$t("message.audit.description")},{default:i(()=>[o(k,{name:"descripcion",modelValue:A.value.descripcion,"onUpdate:modelValue":v[2]||(v[2]=m=>A.value.descripcion=m),icon:r.mdiCodeBraces},null,8,["modelValue","icon"])]),_:1},8,["label"])])]),_:1},8,["onSubmit"])]),_:1},8,["modelValue"]),e("table",null,[e("thead",null,[e("tr",null,[e("th",{onClick:v[4]||(v[4]=m=>z("indice"))},n(r.$t("message.audit.index")),1),e("th",{onClick:v[5]||(v[5]=m=>z("nombre"))},n(r.$t("message.audit.description")),1),it])]),e("tbody",null,[(I(!0),B(de,null,Pe(c($),(m,E)=>(I(),B("tr",{key:m._id},[e("td",{"data-label":r.$t("message.audit.index")},n(m.indice),9,dt),e("td",{"data-label":r.$t("message.audit.description")},n(m.nombre),9,rt),e("td",ct,[o(Ae,{type:"justify-start lg:justify-end","no-wrap":""},{default:i(()=>[o(Q,{color:"info",icon:c(Ts),small:"",onClick:T=>ue(m)},null,8,["icon","onClick"]),o(Q,{color:"info",icon:c(As),small:"",onClick:T=>te(m)},null,8,["icon","onClick"])]),_:2},1024)])]))),128))])]),e("div",ut,[o(Vs,null,{default:i(()=>[o(Ae,null,{default:i(()=>[(I(!0),B(de,null,Pe(c(ve),m=>(I(),$e(Q,{key:m,active:m===c(H)-1,label:m+1,color:m===c(H)?"lightDark":"whiteDark",small:"",onClick:E=>_e(m+1)},null,8,["active","label","color","onClick"]))),128))]),_:1}),e("small",null,"Page "+n(c(he))+" of "+n(c(ce)),1)]),_:1})])],64))}},gt=fs(mt,[["__scopeId","data-v-22690848"]]);const pt=h=>(ys("data-v-5550ea6b"),h=h(),Cs(),h),ht={class:"c-header"},vt={class:"c-body"},_t={class:"c-padding-items"},bt={class:"c-padding-items"},ft={class:"c-padding-items"},kt={class:"c-padding-items"},$t={class:"c-padding-items"},Vt={class:"c-padding-items"},yt={class:"c-padding-items"},Ct={class:"container-table col-span-4"},wt={class:"grid grid-cols-1 sm:grid-cols-6 gap-2"},Pt={class:"container-treeview bg-gray-200 col-span-2"},It=pt(()=>e("hr",{class:"c-hr"},null,-1)),St={class:"c-ul"},xt={class:"c-li"},At={class:"c-li"},Ut={class:"container-table col-span-4"},Rt={class:"header-title"},Ft={class:"span-header-title"},Ot={__name:"AuditApproachView",emits:["changePage","confirm","sort"],setup(h,{emit:b}){const{t:d}=Qe(),u=f(1),O=f(),j=f(10),X=f([]),ee=f(),L=f(),q=f(),J=Bs(),N=Ye(),M=f(!1),_=!1,Y=f(1),R=f(10),re=U({selectedNodeId:null}),Z=f([{name:"Inicio",link:"/setup/papers/"}]);f(0),f(-1);const se=p=>{oe()},H=p=>{O.value=p,ee.value=p==null?void 0:p.ruta,y()},ae=(p,a)=>{$()},oe=p=>{y()},$=(p,a)=>{y()},y=p=>{var x;const{_id:a}=(x=O.value)!=null?x:{},S={page:u.value},F=a===void 0?1:a;Is.getChildrenWithPaginate(F,S).then(ue=>{N.auditAproaches=ue,u.value=ue.page,j.value=ue.perPage})};y({page:u.value}),Ls(async()=>{const{_id:p,codigo:a,nombre:S}=J.params;L.value=p,q.value=a,Z.value.push({name:`${a} - ${S}`});let F=await Is.index();const{enfoques:x}=F,ue=x.filter(fe=>fe.tipoNodo===0),Ve=x.filter(fe=>fe.tipoNodo!==0),ye=C(ue,Ve);console.log(ye[0].children),X.value=ye[0].children});const C=(p,a=[])=>p.map(S=>{const F=a.filter(x=>(x==null?void 0:x.areaPadre)===S._id);return F.length>0&&(S.children=F,C(F,a)),S}),A=()=>{M.value=!0},z=()=>d("message.audit.riskControlRegistration"),ce=p=>{ve({pageRisk:p})},he=(p,a)=>{_e({sortBy:p,sortDesc:a})},ve=p=>{te({pageRisk:p})},_e=(p,a)=>{te({sortBy:p,sortDesc:a})},te=p=>{Ge.index(p).then(a=>{console.log(a),N.listRisk=a,Y.value=a.page,R.value=a.perPage})};return te({page:Y.value}),(p,a)=>(I(),B(de,null,[o(We,{modelValue:M.value,"onUpdate:modelValue":a[0]||(a[0]=S=>M.value=S),title:z(),hasDone:_,claseModal:"shadow-lg max-h-modal w-11/12 md:w-3/5 lg:w-8/12 xl:w-8/12 z-50"},{default:i(()=>[o(ie,null,{default:i(()=>[e("div",ht,[e("div",vt,[e("div",_t,[e("span",null,n(p.$t("message.audit.RiskMatrix")),1)]),e("div",bt,[e("span",null,n(p.$t("message.audit.allRisks")),1)]),e("div",ft,[e("span",null,n(p.$t("message.audit.quadrantI")),1)]),e("div",kt,[e("span",null,n(p.$t("message.audit.quadrantII")),1)]),e("div",$t,[e("span",null,n(p.$t("message.audit.quadrantIII")),1)]),e("div",Vt,[e("span",null,n(p.$t("message.audit.quadrantIV")),1)]),e("div",yt,[e("span",null,n(p.$t("message.audit.customerExpectations")),1)])])])]),_:1}),o(ie,{style:{"padding-left":"0px","padding-right":"0px"}},{default:i(()=>{var S,F,x;return[e("div",Ct,[(x=(F=(S=c(N))==null?void 0:S.listRisk)==null?void 0:F.riesgos)!=null&&x.length?(I(),$e(ie,{key:0,class:"mb-6","has-table":""},{default:i(()=>[o(Jo,{onChangePage:ce,onSort:he})]),_:1})):(I(),$e(ie,{key:1},{default:i(()=>[o(Ss)]),_:1}))])]}),_:1})]),_:1},8,["modelValue","title"]),o(Js,null,{default:i(()=>[o(Hs,null,{default:i(()=>{var S,F,x;return[o(zs,{items:Z.value},null,8,["items"]),e("div",wt,[e("div",Pt,[o(Ws,{nodes:X.value,treeView:!1,selectedNodeId:re.selectedNodeId,onItemSelected:H},null,8,["nodes","selectedNodeId"]),It,e("div",null,[e("ul",St,[e("li",{class:"c-li",style:{"margin-top":"10px"},onClick:a[1]||(a[1]=ue=>A())},[e("span",null,n(p.$t("message.audit.riskControlRegistration")),1)]),e("li",xt,[e("span",null,n(p.$t("message.audit.pointsOf")),1)]),e("li",At,[e("span",null,n(p.$t("message.audit.sampling")),1)])])])]),e("div",Ut,[(x=(F=(S=c(N))==null?void 0:S.auditAproaches)==null?void 0:F.enfoques)!=null&&x.length?(I(),$e(ie,{key:0,class:"mb-6","has-table":""},{default:i(()=>[e("div",Rt,[e("span",Ft,n(ee.value),1)]),o(gt,{path:"create",onChangePage:se,onSort:ae})]),_:1})):(I(),$e(ie,{key:1},{default:i(()=>[o(Ss)]),_:1}))])])]}),_:1})]),_:1})],64))}},Tt=fs(Ot,[["__scopeId","data-v-5550ea6b"]]);export{Tt as default};
