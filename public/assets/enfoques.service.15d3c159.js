import{r as b,U as P,av as x,o as a,h as c,b as v,F as p,k as C,N as f,m as o,t as g,c as $,z as N,as as h,at as u}from"./index.49b91a9a.js";import{b as V}from"./BaseButton.84fe76a1.js";const I={key:0},T=["onClick"],B={key:1},q={style:{"margin-bottom":"10px"}},z={key:0,style:{"margin-bottom":"10px"}},F=["onClick"],L={key:0,class:"icon-hover fa fa-folder folder-treeView"},M={key:1,class:"icon-hover fa-solid fa-folder-minus"},A=["onMouseover"],D={__name:"TreeItem",props:{nodes:{type:Array,required:!0},selectedNodeId:Number,treeView:{type:Boolean,required:!0,default:!0}},emits:["nodeSelected","itemSelected"],setup(s,{emit:n}){const r=s,e=b(0);P({nodes:r.nodes});const _=(i,y)=>{e.value=0;const l=r.nodes.find(d=>d._id===i),t=r.nodes;r.nodes=t.map(d=>(d.active=d._id===i?"active":"selected",d)),console.log(l),l&&(l.collapsed=!l.collapsed,l.active=!l.active),n("nodeSelected",l),e.value=i},w=i=>{e.value=0,n("nodeSelected",i),e.value=i._id},k=i=>{n("itemSelected",i)},S=i=>i.children.some(l=>l.visible===1);return(i,y)=>{const l=x("TreeItem",!0);return a(),c(p,null,[s.treeView?(a(),c("div",I,[v("ul",null,[(a(!0),c(p,null,C(s.nodes,t=>(a(),c("li",{key:t._id,class:"pli"},[v("span",{class:f(e.value===t._id?"selected":""),onClick:d=>_(t._id)},[t.children.length?(a(),c("i",{key:0,class:f(t.collapsed?"fa fa-minus":"fa fa-plus")},null,2)):o("",!0),v("span",{class:f(t.children.length>0?"ml2":"ml1")},g(t.indice)+" - "+g(t.nombre),3)],10,T),t.children.length>0&&t.collapsed?(a(),$(l,{key:0,nodes:t.children,onNodeSelected:w},null,8,["nodes"])):o("",!0)]))),128))])])):o("",!0),s.treeView?o("",!0):(a(),c("div",B,[v("ul",q,[(a(!0),c(p,null,C(s.nodes,t=>(a(),c(p,{key:t._id},[t.visible===1?(a(),c("li",z,[v("span",{class:f(e.value===t._id?"icon-hover selected":"icon-hover"),onClick:d=>k(t)},[t.children.length>0?(a(),c("i",L)):o("",!0),t.children.length===0?(a(),c("i",M)):o("",!0),N(" "+g(t.indice)+" - "+g(t.nombre)+" ",1),t.children.length>0&&S(t)?(a(),c("i",{key:2,class:"icon-hover fa fa-solid fa-plus plus-icon",onMouseover:d=>_(t._id)},null,40,A)):o("",!0)],10,F),t.children&&t.collapsed?(a(),$(l,{key:0,nodes:t.children,treeView:!1,onItemSelected:k},null,8,["nodes"])):o("",!0)])):o("",!0)],64))),128))])]))],64)}}},U=V(D,[["__scopeId","data-v-dba8b194"]]),m="api/enfoques/",W={index(){return new Promise((s,n)=>{h.get(m,{},{headers:u()}).then(r=>s(r.data)).catch(r=>n(r))})},getChildren(s){return new Promise((n,r)=>{h.get(`${m}/getChildren/${s}`,{headers:u()}).then(e=>{n(e)}).catch(e=>r(e))})},getChildrenWithPaginate(s,n){return new Promise((r,e)=>{h.get(`${m}getChildrenPaginate/${s}/`,{params:n},{headers:u()}).then(_=>{r(_.data)}).catch(_=>e(_))})},create(s){return new Promise((n,r)=>{h.post(m,s,{headers:u()}).then(e=>n(e)).catch(e=>r(e))})},read(s){return new Promise((n,r)=>{h.get(`${m}/${s}`,{headers:u()}).then(e=>{n(e)}).catch(e=>r(e))})},update(s){return new Promise((n,r)=>{h.put(`${m}/${s._id}`,s,{headers:u()}).then(e=>n(e.data)).catch(e=>r(e))})},delete(s){return new Promise((n,r)=>{h.delete(`${m}${s}`,{headers:u()}).then(e=>n(e.data)).catch(e=>r(e))})}};export{U as T,W as e};
